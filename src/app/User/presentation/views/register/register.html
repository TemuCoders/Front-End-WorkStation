<div class="container">
  <div class="card">

    <div class="header">
      <div class="icon-wrapper">
        <svg class="icon-large" viewBox="0 0 24 24">
          <path
            d="M9 6V5a3 3 0 0 1 3-3h0a3 3 0 0 1 3 3v1h3.5A2.5 2.5 0 0 1 21 8.5V18a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8.5A2.5 2.5 0 0 1 5.5 6H9Z"
            fill="white"
            opacity="0.9"
          />
        </svg>
      </div>
      <h1>Crear Cuenta</h1>
      <p class="subtitle">
        Completa tu información para registrarte
      </p>
    </div>

    <div class="tabs">
      <button class="tab" routerLink="/login">Iniciar Sesión</button>
      <button class="tab tab-active" routerLink="/register">Registrarse</button>
    </div>

    <div class="form-content">
      <h2 class="step-title">Información Personal</h2>

      <div class="form-grid">
        <div class="form-group full-width">
          <label class="form-label">Nombre Completo <span class="required">*</span></label>
          <input type="text" [(ngModel)]="userData.personalInfo.nombre" class="form-input" placeholder="Juan Pérez" autocomplete="name" />
        </div>

        <div class="form-group">
          <label class="form-label">Tipo de usuario <span class="required">*</span></label>
          <select [(ngModel)]="userData.personalInfo.tipoUsuario" class="form-input">
            <option value="">Selecciona un tipo</option>
            <option value="OWNER">Owner</option>
            <option value="FREELANCER">Freelancer</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Ubicación</label>
          <input type="text" [(ngModel)]="userData.personalInfo.ubicacion" class="form-input" placeholder="Lima, Arequipa, etc." />
        </div>

        <div class="form-group full-width">
          <label class="form-label">Fecha de Nacimiento</label>
          <input type="date" [(ngModel)]="userData.personalInfo.fechaNacimiento" (ngModelChange)="onBirthDateChange($event)" class="form-input" />
          <div *ngIf="birthError" class="field-error">{{ birthError }}</div>
        </div>

        <div class="form-group">
          <label class="form-label">Email <span class="required">*</span></label>
          <input type="email" [(ngModel)]="userData.email" class="form-input" placeholder="tu@email.com" autocomplete="email" />
        </div>

        <div class="form-group">
          <label class="form-label">Contraseña <span class="required">*</span></label>
          <input type="password" [(ngModel)]="userData.password" class="form-input" placeholder="••••••••" autocomplete="new-password" />
        </div>

        <div class="form-group">
          <label class="form-label">Confirmar Contraseña <span class="required">*</span></label>
          <input type="password" [(ngModel)]="confirmPassword" class="form-input" placeholder="••••••••" autocomplete="new-password" />
        </div>
      </div>

      <div *ngIf="errorMessage" class="message message-error">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="message message-success">{{ successMessage }}</div>

      <button type="button" (click)="onSubmit()" class="btn btn-primary" [disabled]="isLoading">
        {{ isLoading ? 'Creando cuenta...' : 'Crear Cuenta' }}
      </button>
    </div>

  </div>
</div>
